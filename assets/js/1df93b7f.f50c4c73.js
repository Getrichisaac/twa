"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3237],{2077:(e,t,n)=>{n.r(t),n.d(t,{default:()=>we});var r={};n.r(r),n.d(r,{S1:()=>M,kP:()=>V,be:()=>H});var o=n(9901),i=n(2865),s=n(3627),a=n(6172);const c="docs/from-authors";function u(){const{siteConfig:e}=(0,i.Z)();return o.createElement(s.Z,{noFooter:!0,description:e.tagline},o.createElement(a.l_,{to:c}))}function p(e){return/^#[\da-f]{6}$/i.test(e)}function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var h=function(){function e(){this.listeners={},this.subscribeListeners=[]}return e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.subscribeListeners.forEach((function(n){return n.apply(void 0,l([e],t,!1))}));var r=this.listeners[e];void 0!==r&&r.forEach((function(e){return e.apply(void 0,t)}))},e.prototype.on=function(e,t){var n=this.listeners[e];void 0===n?this.listeners[e]=[t]:n.push(t)},e.prototype.off=function(e,t){var n=this.listeners[e];if(void 0!==n){var r=n.indexOf(t);r>=0&&n.splice(r,1)}},e.prototype.subscribe=function(e){this.subscribeListeners.push(e)},e.prototype.unsubscribe=function(e){var t=this.subscribeListeners.indexOf(e);t>=0&&this.subscribeListeners.splice(t,1)},e}();function f(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function d(e,t){return Object.entries(e).map((function(e){var n,r,o,i=e[0],s=e[1];if("function"==typeof s||"string"==typeof s)n=!1,r=i,o="function"==typeof s?s:t[s];else{var a=s.optional,c=void 0!==a&&a,u=s.from,p=void 0===u?i:u,l=s.type;n=c,r=p,o="function"==typeof l?l:t[l]}return{optional:n,from:r,to:i,parser:o}}))}function b(e){return function(t){if(typeof t!==e)throw new TypeError("Unable to parse value ".concat(JSON.stringify(t)," as ").concat(e,"."));return t}}var _=b("string"),g=b("boolean"),m=b("number");var v={string:_,boolean:g,number:m,rgb:function(e){var t=_(e);if(!p(t))throw new TypeError('Unable to parse value "'.concat(t,'" as RGB.'));return t}};function y(e){var t=d(e,v);return function(e){var n=e;if("string"==typeof n)try{n=JSON.parse(n)}catch(e){throw new TypeError("Value is not JSON object converted to string.")}if(!f(n))throw new TypeError("Value is not JSON object.");return t.reduce((function(e,t){var r=t.parser,o=t.optional,i=t.from,s=t.to,a=n[i];if(void 0===a){if(!o)throw new Error('Unable to parse field "'.concat(i,'". Value is empty.'));return e}try{var c=r(a);void 0!==c&&(e[s]=c)}catch(e){throw new Error('Unable to parse field "'.concat(i,'"'),{cause:e})}return e}),{})}}var w={string:function(e){return e},date:function(e){if(""!==e){var t=Number(e),n=new Date(t.toString()===e?1e3*t:e);if("Invalid Date"!==n.toString())return n}throw new TypeError('Unable to parse value "'.concat(e,'" as Date.'))}};function E(e){var t=d(e,w);return function(e){if(void 0===e)throw new TypeError("Value is empty.");if("string"!=typeof e&&!(e instanceof URLSearchParams))throw new TypeError("Value has not processable type.");var n="string"==typeof e?new URLSearchParams(e):e;return t.reduce((function(e,t){var r=t.parser,o=t.to,i=t.optional,s=t.from,a=n.get(s);if(null===a){if(!i)throw new TypeError('Unable to parse field "'.concat(s,'". Value is empty.'));return e}try{var c=r(a);void 0!==c&&(e[o]=c)}catch(e){throw new Error('Unable to parse field "'.concat(s,'"'),{cause:e})}return e}),{})}}function O(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=new Date,o=Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r),i=r.getMilliseconds().toString();console[e].apply(console,l(["[".concat(o,".").concat("0".repeat(3-i.length)+i,"]")],t,!1))}function C(e,t){for(var n=e.split("."),r=t.split("."),o=Math.max(n.length,r.length),i=0;i<o;i++){var s=parseInt(n[i]||"0"),a=parseInt(r[i]||"0");if(s!==a)return s>a?1:-1}return 0}var x,P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)};function k(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function j(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var S=y({eventType:"string",eventData:{type:function(e){return e}}});var T=!1;function V(){try{return window.self!==window.top}catch(W){return!0}}var A=y({theme_params:y({bg_color:"rgb",text_color:"rgb",hint_color:"rgb",link_color:"rgb",button_color:"rgb",button_text_color:"rgb",secondary_bg_color:{type:"rgb",optional:!0}})}),q=y({height:"number",width:function(e){return null==e?window.innerWidth:m(e)},is_state_stable:"boolean",is_expanded:"boolean"}),D=y({button_id:function(e){return null==e?void 0:_(e)}}),I=y({data:{type:"string",optional:!0}}),B=y({slug:"string",status:"string"}),U=y({req_id:"string",data:function(e){return null==e?e:_(e)}}),L=function(){function e(e){void 0===e&&(e={});var t=this;this._boundEmitter=null,this.ee=new h,this.emit=function(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.log.apply(t,j(["log","[emit]",e],r,!1)),(n=t.ee).emit.apply(n,j([e],r,!1))},this.log=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.debug&&O.apply(void 0,j([e,"[Bridge]"],n,!1))},this.processEvent=function(e,n){t.log("log","[processEvent]",e,n);try{switch(e){case"viewport_changed":return t.emit(e,q(n));case"theme_changed":return t.emit(e,A(n));case"popup_closed":return null==n?t.emit(e,{}):t.emit(e,D(n));case"set_custom_style":return t.emit(e,_(n));case"qr_text_received":return t.emit(e,I(n));case"main_button_pressed":case"back_button_pressed":case"settings_button_pressed":case"scan_qr_popup_closed":return t.emit(e);case"clipboard_text_received":return t.emit(e,U(n));case"invoice_closed":return t.emit(e,B(n));default:return t.emit(e,n)}}catch(e){throw t.log("error","[processEvent] error",e),e}},this.on=this.ee.on.bind(this.ee),this.off=this.ee.off.bind(this.ee),this.postEvent=function(e,n,r){var o=r||{},i=o.targetOrigin,s=void 0===i?t.targetOrigin:i,a=k(o,["targetOrigin"]);(function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n={}),V())return window.parent.postMessage(JSON.stringify({eventType:e,eventData:t}),n.targetOrigin||"https://web.telegram.org");if(void 0!==window.TelegramWebviewProxy)return window.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));if(function(e){return"external"in e&&"function"==typeof e.external.notify}(window))return window.external.notify(JSON.stringify({eventType:e,eventData:t}));throw new Error("Unable to determine current environment and possible way to send event.")})(e,n,P(P({},a),{targetOrigin:s})),t.log("log","[postEvent]",e,n)},this.subscribe=this.ee.subscribe.bind(this.ee),this.unsubscribe=this.ee.unsubscribe.bind(this.ee);var n=e.debug,r=void 0!==n&&n,o=e.emitter,i=void 0===o?null:o,s=e.targetOrigin,a=void 0===s?"https://web.telegram.org":s;this.debug=r,this.targetOrigin=a,this.boundEmitter=i}return Object.defineProperty(e.prototype,"boundEmitter",{get:function(){return this._boundEmitter||null},set:function(e){null!==this._boundEmitter&&this._boundEmitter.off("message",this.processEvent),this._boundEmitter=e,null!==this._boundEmitter&&this._boundEmitter.on("message",this.processEvent)},enumerable:!1,configurable:!0}),e.prototype.bind=function(e){this.boundEmitter=e},e.prototype.unbind=function(){this.boundEmitter=null},e}();function M(e){void 0===e&&(e={});var t=e.defineReceiver,n=void 0===t||t,r=e.emitter,o=void 0===r?function(e){if(void 0===e&&(e=!1),void 0===x){var t=new h,n=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e&&O.apply(void 0,j([t,"[Bridge]"],n,!1))};window.addEventListener("message",(function(e){var r;if(n("log","message event received",e),e instanceof MessageEvent){if(e.source!==window.parent||"string"!=typeof e.data)return n("log","event rejected",e);r=e.data}else{if(!(e instanceof CustomEvent&&f(e.detail)&&"string"==typeof e.detail.eventType&&"eventData"in e.detail))return n("warn","event was skipped",e);r=e.detail}try{var o=S(r),i=o.eventType,s=o.eventData;t.emit("message",i,s)}catch(e){n("error","event data extraction error",r,e)}})),window.addEventListener("resize",(function(){var e={width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0};t.emit("message","viewport_changed",e)})),x=t}return x}(e.debug):r,i=k(e,["defineReceiver","emitter"]);return n&&function(e){if(void 0===e&&(e=!1),!T||e){var t=window;[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach((function(e){var n=t;e.forEach((function(e,t,r){t!==r.length-1?(e in n||(n[e]={}),n=n[e]):n[e]=function(e,t){window.dispatchEvent(new CustomEvent("message",{detail:{eventType:e,eventData:t}}))}}))})),T=!0}}(),new L(P(P({},i),{emitter:o}))}function H(e,t){switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return C("6.1",t)<=0;case"web_app_open_popup":return C("6.2",t)<=0;case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return C("6.4",t)<=0;default:return!0}}var W=y({firstName:{type:"string",from:"first_name"},id:"number",isBot:{type:"boolean",from:"is_bot",optional:!0},isPremium:{type:"boolean",from:"is_premium",optional:!0},lastName:{type:"string",from:"last_name",optional:!0},languageCode:{type:"string",from:"language_code",optional:!0},photoUrl:{type:"string",from:"photo_url",optional:!0},username:{type:"string",optional:!0}}),N=E({authDate:{type:"date",from:"auth_date"},hash:"string",user:{type:W,optional:!0},receiver:{type:W,optional:!0},chat:{type:y({id:"number",type:"string",title:"string",photoUrl:{type:"string",from:"photo_url",optional:!0},username:{type:"string",optional:!0}}),optional:!0},canSendAfter:{type:"date",from:"can_send_after",optional:!0},queryId:{type:"string",from:"query_id",optional:!0},startParam:{type:"string",from:"start_param",optional:!0}});function R(e){return e=function(e){var t=e.replace(/\s/g,"");if(p(t))return t;if(function(e){return/^#[\da-f]{3}$/i.test(e)}(t)){for(var n="#",r=0;r<3;r++)n+=t[1+r].repeat(2);return n}var o=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(null===o)throw new SyntaxError('Value "'.concat(e,'" does not match any of known RGB formats.'));return o.slice(1).reduce((function(e,t){var n=parseInt(t).toString(16);return e+(1===n.length?"0":"")+n}),"#")}(e),Math.sqrt([.299,.587,.114].reduce((function(t,n,r){var o=parseInt(e.slice(1+2*r,1+2*(r+1)),16);return t+o*o*n}),0))<120}var z=y({backgroundColor:{type:"rgb",from:"bg_color"},buttonColor:{type:"rgb",from:"button_color"},buttonTextColor:{type:"rgb",from:"button_text_color"},hintColor:{type:"rgb",from:"hint_color"},linkColor:{type:"rgb",from:"link_color"},textColor:{type:"rgb",from:"text_color"},secondaryBackgroundColor:{type:"rgb",from:"secondary_bg_color",optional:!0}});function J(e){var t=document.createElement("a");if(t.href=e,"http:"!==t.protocol&&"https:"!==t.protocol)throw Error("URL protocol is not supported by OS, or link has not allowed "+"protocol: ".concat(t.protocol));return t.href}function $(e,t){return function(n){return H(t[n],e)}}var F=function(){function e(e,t){var n=this;this.bridge=e,this.ee=new h,this._isVisible=!1,this.on=function(e,t){if("click"===e)return n.bridge.on("back_button_pressed",t);n.ee.on(e,t)},this.off=function(e,t){if("click"===e)return n.bridge.off("back_button_pressed",t);n.ee.off(e,t)},this.supports=$(t,{show:"web_app_setup_back_button",hide:"web_app_setup_back_button"})}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this.bridge.postEvent("web_app_setup_back_button",{is_visible:e}),this._isVisible!==e&&(this._isVisible=e,this.ee.emit("visibleChanged",e))},enumerable:!1,configurable:!0}),e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e}(),G=function(){function e(e){this.bridge=e,this.ee=new h,this._isEnabled=!1,this.on=this.ee.on.bind(this.ee),this.off=this.ee.off.bind(this.ee)}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(e){this.bridge.postEvent("web_app_setup_closing_behavior",{need_confirmation:e}),this._isEnabled!==e&&(this._isEnabled=e,this.ee.emit("change",e))},enumerable:!1,configurable:!0}),e.prototype.disable=function(){this.isEnabled=!1},e.prototype.enable=function(){this.isEnabled=!0},e}(),Z=function(){function e(e,t){this.bridge=e,this.supports=$(t,{impactOccurred:"web_app_trigger_haptic_feedback",notificationOccurred:"web_app_trigger_haptic_feedback",selectionChanged:"web_app_trigger_haptic_feedback"})}return e.prototype.impactOccurred=function(e){this.bridge.postEvent("web_app_trigger_haptic_feedback",{type:"impact",impact_style:e})},e.prototype.notificationOccurred=function(e){this.bridge.postEvent("web_app_trigger_haptic_feedback",{type:"notification",notification_type:e})},e.prototype.selectionChanged=function(){this.bridge.postEvent("web_app_trigger_haptic_feedback",{type:"selection_change"})},e}(),K=function(){function e(e,t,n){void 0===n&&(n={}),this._authDate=e,this._hash=t,this._canSendAfter=null,this._chat=null,this._queryId=null,this._receiver=null,this._startParam=null,this._user=null;var r=n.chat,o=void 0===r?null:r,i=n.user,s=void 0===i?null:i,a=n.queryId,c=void 0===a?null:a,u=n.receiver,p=void 0===u?null:u,l=n.startParam,h=void 0===l?null:l,f=n.canSendAfter,d=void 0===f?null:f;this._canSendAfter=d,this._chat=o,this._user=s,this._queryId=c,this._receiver=p,this._startParam=h}return Object.defineProperty(e.prototype,"authDate",{get:function(){return this._authDate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canSendAfter",{get:function(){return this._canSendAfter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chat",{get:function(){return this._chat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._hash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queryId",{get:function(){return this._queryId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"receiver",{get:function(){return this._receiver},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startParam",{get:function(){return this._startParam},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this._user},enumerable:!1,configurable:!0}),e}(),Q=function(){function e(e,t,n,r){this.bridge=e,this._headerColor=n,this._backgroundColor=r,this.ee=new h,this.on=this.ee.on.bind(this.ee),this.off=this.ee.off.bind(this.ee),this.supports=$(t,{setHeaderColor:"web_app_set_header_color",setBackgroundColor:"web_app_set_background_color"})}return Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorScheme",{get:function(){return R(this.backgroundColor)?"dark":"light"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerColor",{get:function(){return this._headerColor},enumerable:!1,configurable:!0}),e.prototype.setBackgroundColor=function(e){this.bridge.postEvent("web_app_set_background_color",{color:e}),this._backgroundColor!==e&&(this._backgroundColor=e,this.ee.emit("backgroundColorChanged",e))},e.prototype.setHeaderColor=function(e){this.bridge.postEvent("web_app_set_header_color",{color_key:e}),this._headerColor!==e&&(this._headerColor=e,this.ee.emit("headerColorChanged",e))},e}(),X=function(){function e(e,t,n,r){void 0===r&&(r={});var o=this;this.bridge=e,this._color=t,this._textColor=n,this.ee=new h,this._isActive=!1,this._isVisible=!1,this._isProgressVisible=!1,this._text="",this.on=function(e,t){if("click"===e)return o.bridge.on("main_button_pressed",t);o.ee.on(e,t)},this.off=function(e,t){if("click"===e)return o.bridge.off("main_button_pressed",t);o.ee.off(e,t)};var i=r.autocommit,s=void 0===i||i;this.autocommit=s}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){var t=this._color;this._color=e,this.autocommit&&this.commit(),this._color!==t&&this.ee.emit("colorChanged",this._color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(e){var t=this._isActive;this._isActive=e,this.autocommit&&this.commit(),this._isActive!==t&&this.ee.emit("activeChanged",this._isActive)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isProgressVisible",{get:function(){return this._isProgressVisible},set:function(e){var t=this._isProgressVisible;this._isProgressVisible=e,this.autocommit&&this.commit(),this._isProgressVisible!==t&&this.ee.emit("progressVisibleChanged",this._isProgressVisible)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){var t=this._isVisible;this._isVisible=e,this.autocommit&&this.commit(),this._isVisible!==t&&this.ee.emit("visibleChanged",this._isVisible)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){var t=this._text;this._text=e,this.autocommit&&this.commit(),this._text!==t&&this.ee.emit("textChanged",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},set:function(e){var t=this._textColor;this._textColor=e,this.autocommit&&this.commit(),this._textColor!==t&&this.ee.emit("textColorChanged",this._textColor)},enumerable:!1,configurable:!0}),e.prototype.commit=function(){""!==this.text&&this.bridge.postEvent("web_app_setup_main_button",{is_visible:this.isVisible,is_active:this.isActive,is_progress_visible:this.isProgressVisible,text:this.text,color:this.color,text_color:this.textColor})},e.prototype.disable=function(){return this.isActive=!1,this},e.prototype.enable=function(){return this.isActive=!0,this},e.prototype.hide=function(){return this.isVisible=!1,this},e.prototype.hideProgress=function(){return this.isProgressVisible=!1,this},e.prototype.show=function(){return this.isVisible=!0,this},e.prototype.showProgress=function(){return this.isProgressVisible=!0,this},e.prototype.setText=function(e){return this.text=e,this},e.prototype.setTextColor=function(e){return this.textColor=e,this},e.prototype.setColor=function(e){return this.color=e,this},e}(),Y=function(e,t){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Y(e,t)},ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ee.apply(this,arguments)};var te=function(){function e(e,t){this.bridge=e,this.ee=new h,this._isOpened=!1,this.on=this.ee.on.bind(this.ee),this.off=this.ee.off.bind(this.ee),this.supports=$(t,{open:"web_app_open_popup"})}return Object.defineProperty(e.prototype,"isOpened",{get:function(){return this._isOpened},set:function(e){this._isOpened!==e&&(this._isOpened=e,this.ee.emit("openChanged",this._isOpened))},enumerable:!1,configurable:!0}),e.prototype.open=function(e){var t=this;if(this.isOpened)throw new Error("Popup is already opened.");var n=function(e){var t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new Error("Title has incorrect size: ".concat(n.length));if(0===t.length||t.length>256)throw new Error("Message has incorrect size: ".concat(t.length));if(r.length>3)throw new Error("Buttons have incorrect size: ".concat(r.length));return{title:n,message:t,buttons:0===r.length?[{type:"close",id:""}]:r.map((function(e){var t=e.id,n=void 0===t?"":t;if(n.length>64)throw new Error("Button ID has incorrect size: ".concat(n));switch(e.type){case void 0:case"default":case"destructive":if(e.text=e.text.trim(),0===e.text.length||e.text.length>64){var r=e.type||"default";throw new Error('Button text with type "'.concat(r,'" has incorrect size: ').concat(e.text.length))}}return ee(ee({},e),{id:n})}))}}(e);return this.bridge.postEvent("web_app_open_popup",n),this.isOpened=!0,new Promise((function(e){var n=function(r){var o=r.button_id,i=void 0===o?null:o;t.bridge.off("popup_closed",n),e(i),t.isOpened=!1};t.bridge.on("popup_closed",n)}))},e}(),ne=function(){function e(e,t){this.bridge=e,this._isOpened=!1,this.ee=new h,this.on=this.ee.on.bind(this.ee),this.off=this.ee.off.bind(this.ee),this.supports=$(t,{close:"web_app_close_scan_qr_popup",open:"web_app_open_scan_qr_popup"})}return e.prototype.close=function(){this.bridge.postEvent("web_app_close_scan_qr_popup"),this.isOpened=!1},Object.defineProperty(e.prototype,"isOpened",{get:function(){return this._isOpened},set:function(e){this._isOpened!==e&&(this._isOpened=e,this.ee.emit("openChanged",e))},enumerable:!1,configurable:!0}),e.prototype.open=function(e){var t=this;if(this.isOpened)throw new Error("QR scanner is already opened.");return this.bridge.postEvent("web_app_open_scan_qr_popup",{text:e}),this.isOpened=!0,new Promise((function(e){var n=function(){e(null),o()},r=function(t){var n=t.data;e(void 0===n?null:n),o()},o=function(){t.bridge.off("scan_qr_popup_closed",n),t.bridge.off("qr_text_received",r)};t.bridge.on("qr_text_received",r),t.bridge.on("scan_qr_popup_closed",n)}))},e}(),re=function(){function e(e){this.ee=new h,this._secondaryBackgroundColor=null,this.on=this.ee.on.bind(this.ee),this.off=this.ee.off.bind(this.ee);var t=e.secondaryBackgroundColor,n=void 0===t?null:t,r=e.backgroundColor,o=e.buttonTextColor,i=e.textColor,s=e.buttonColor,a=e.linkColor,c=e.hintColor;this._backgroundColor=r,this._buttonTextColor=o,this._buttonColor=s,this._textColor=i,this._secondaryBackgroundColor=n,this._linkColor=a,this._hintColor=c}return e.request=function(e){return e.postEvent("web_app_request_theme"),new Promise((function(t){var n=function(r){e.off("theme_changed",n),t(z(r.theme_params))};e.on("theme_changed",n)}))},e.synced=function(t,n){var r=new e(n);return t.on("theme_changed",(function(e){r.assignThemeParams(z(e),!0)})),r},e.prototype.assignThemeParams=function(e,t){var n=this,r=!1;["buttonColor","buttonTextColor","linkColor","textColor","hintColor","secondaryBackgroundColor","backgroundColor"].forEach((function(t){var o=e[t];if(void 0!==o){var i="_"+t;n[i]!==o&&(n[i]=o,r=!0)}})),r&&t&&this.ee.emit("change")},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonColor",{get:function(){return this._buttonColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonTextColor",{get:function(){return this._buttonTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hintColor",{get:function(){return this._hintColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDark",{get:function(){var e=this.backgroundColor;return null===e||R(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linkColor",{get:function(){return this._linkColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"secondaryBackgroundColor",{get:function(){return this._secondaryBackgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),e}();function oe(e){return e<0?0:e}var ie=function(){function e(e,t,n,r,o){this.bridge=e,this.ee=new h,this.on=this.ee.on.bind(this.ee),this.off=this.ee.off.bind(this.ee),this._height=oe(t),this._width=oe(n),this._stableHeight=oe(r),this._isExpanded=o}return e.request=function(e){return e.postEvent("web_app_request_viewport"),new Promise((function(t){var n=function(r){e.off("viewport_changed",n);var o=r.height,i=r.width,s=r.is_expanded,a=r.is_state_stable;t({height:o,isExpanded:s,width:i,isStateStable:a})};e.on("viewport_changed",n)}))},e.synced=function(t,n,r,o,i){var s=new e(t,n,r,o,i);return t.on("viewport_changed",(function(e){var t=e.height,n=e.width,r=e.is_expanded,o=e.is_state_stable;s.height=oe(t),s.width=oe(n),s.isExpanded=r,o&&(s.stableHeight=s.height)})),s},Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.ee.emit("heightChanged",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stableHeight",{get:function(){return this._stableHeight},set:function(e){this._stableHeight!==e&&(this._stableHeight=e,this.ee.emit("stableHeightChanged",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this._isExpanded},set:function(e){this._isExpanded!==e&&(this._isExpanded=e,this.ee.emit("expansionChanged",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.ee.emit("widthChanged",e))},enumerable:!1,configurable:!0}),e.prototype.expand=function(){this.bridge.postEvent("web_app_expand")},Object.defineProperty(e.prototype,"isStable",{get:function(){return this._stableHeight===this._height},enumerable:!1,configurable:!0}),e}(),se=function(){function e(e,t,n){this.bridge=e,this._platform=n,this.supports=$(t,{openInvoice:"web_app_open_invoice",readTextFromClipboard:"web_app_read_text_from_clipboard"}),this.version=t}return e.prototype.close=function(){this.bridge.postEvent("web_app_close")},e.prototype.isVersionAtLeast=function(e){return C(e,this.version)>=0},e.prototype.openLink=function(e){if(e=J(e),H("web_app_open_link",this.version))return this.bridge.postEvent("web_app_open_link",{url:e});window.open(e,"_blank")},e.prototype.openTelegramLink=function(e){var t=new URL(J(e)),n=t.hostname,r=t.pathname,o=t.search;if("t.me"!==n)throw new Error("URL has not allowed hostname: ".concat(n,'. Only "t.me" is allowed'));if(H("web_app_open_tg_link",this.version))return this.bridge.postEvent("web_app_open_tg_link",{path_full:r+o});window.location.href=e},e.prototype.openInvoice=function(e){var t=this,n=new URL(J(e)),r=n.hostname,o=n.pathname;if("t.me"!==r)throw new Error("Incorrect hostname: "+r);var i=o.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(null===i)throw new Error('Link pathname has incorrect format. Expected to receive "/invoice/slug" or "/$slug"');return this.bridge.postEvent("web_app_open_invoice",{slug:i[2]}),new Promise((function(e){var n=function(r){t.bridge.off("invoice_closed",n),e(r.status)};t.bridge.on("invoice_closed",n)}))},Object.defineProperty(e.prototype,"platform",{get:function(){return this._platform},enumerable:!1,configurable:!0}),e.prototype.ready=function(){this.bridge.postEvent("web_app_ready")},e.prototype.readTextFromClipboard=function(){for(var e=this,t="",n=0;n<32;n++)t+=Math.ceil(10*Math.random()).toString();return new Promise((function(n){var r=function(o){o.req_id===t&&(n(void 0===o.data?null:o.data),e.bridge.off("clipboard_text_received",r))};e.bridge.on("clipboard_text_received",r),e.bridge.postEvent("web_app_read_text_from_clipboard",{req_id:t})}))},e.prototype.sendData=function(e){var t=new Blob([e]).size;if(0===t||t>4096)throw new Error("Passed data has incorrect size: ".concat(t));this.bridge.postEvent("web_app_data_send",{data:e})},e}(),ae=E({version:{type:function(e){return e},from:"tgWebAppVersion"},initData:{type:function(e){return N(e)},from:"tgWebAppData"},platform:{type:function(e){return e},from:"tgWebAppPlatform"},themeParams:{type:z,from:"tgWebAppThemeParams"}}),ce=function(e){function t(n,r){var o=e.call(this,'Method "'.concat(n,'" is not supported in Web Apps version ').concat(r,"."))||this;return Object.setPrototypeOf(o,t.prototype),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),ue=function(e,t){var n=this;this.bridge=e,this.version=t,this.postEvent=function(e,t){if(!H(e,n.version))throw new ce(e,n.version);return n.bridge.postEvent(e,t)},this.on=this.bridge.on.bind(this.bridge),this.off=this.bridge.off.bind(this.bridge)};function pe(e){return void 0===e&&(e={}),function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,c,u,p,l,h,f,d,b,_,g,m,v,y,w,E,O,C,x;return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(P){switch(P.label){case 0:return t=e.checkCompat,n=void 0===t||t,r=function(){var e="__telegram-launch-params__";try{var t=window.location.hash.slice(1),n=ae(t);return sessionStorage.setItem(e,t),n}catch(e){}try{return ae(sessionStorage.getItem(e)||"")}catch(e){}throw new Error("Unable to extract launch params.")}(),o=r.initData,i=o.authDate,s=o.hash,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(o,["authDate","hash"]),c=r.version,u=r.platform,p=r.themeParams,l=p.backgroundColor,h=void 0===l?"#ffffff":l,f=p.buttonColor,d=void 0===f?"#000000":f,b=p.buttonTextColor,_=void 0===b?"#ffffff":b,g=M(e),m=n?new ue(g,c):g,V()&&((v=document.createElement("style")).id="__tg-iframe-style__",document.head.appendChild(v),g.on("set_custom_style",(function(e){return v.innerHTML=e})),g.postEvent("iframe_ready")),"tdesktop"===u||"macos"===u?[3,2]:[4,ie.request(m)];case 1:return x=P.sent(),[3,3];case 2:x={width:window.innerWidth,height:window.innerHeight,isStateStable:!0,isExpanded:!0},P.label=3;case 3:return w=(y=x).width,E=y.isExpanded,O=y.height,C=y.isStateStable,[2,{backButton:new F(m,c),bridge:g,closingConfirmation:new G(m),haptic:new Z(m,c),initData:new K(i,s,a),layout:new Q(m,c,"bg_color",h),mainButton:new X(m,d,_),popup:new te(m,c),qrScanner:new ne(m,c),themeParams:re.synced(m,p),viewport:ie.synced(m,O,w,C?O:0,E),webApp:new se(m,c,u)}]}}))}))}var le=(0,o.createContext)({components:null,didInit:!1,error:null});le.displayName="SDKContext";var he=function(){return(0,o.useContext)(le)};function fe(e){var t=he().components;if(null===t)throw new Error('Unable to get component "'.concat(e,'" as long as SDK is not initialized.'));return t[e]}var de=(0,o.memo)((function(e){var t=e.children,n=e.initOptions,r=(0,o.useState)(!1),i=r[0],s=r[1],a=(0,o.useState)(null),c=a[0],u=a[1],p=(0,o.useState)(null),l=p[0],h=p[1];(0,o.useEffect)((function(){s(!0),pe(n).then(h).catch(u)}),[]);var f=(0,o.useMemo)((function(){return{components:l,didInit:i,error:c}}),[i,l,c]);return o.createElement(le.Provider,{value:f},t)}));de.displayName="SDKProvider";function be(){return fe("webApp")}var _e=n(6924);const ge=()=>{const{setColorMode:e}=(0,_e.I)(),{colorScheme:t}=be();return(0,o.useEffect)((()=>{e(t)}),[t]),o.createElement(o.Fragment,null,o.createElement(a.l_,{to:c}))},me=e=>{let{children:t}=e;const{components:n}=he();return null===n?null:o.createElement(s.Z,{noFooter:!0},t)},ve=()=>o.createElement(de,null,o.createElement(me,null,o.createElement(ge,null)));var ye=n(4401);function we(){return ye.Z.canUseDOM&&(V()&&document.referrer.startsWith("https://web.telegram.org/")||(0,r.isWindowsPhoneEnv)(window)||(0,r.isDesktopOrMobileEnv)(window))?o.createElement(ve,null):o.createElement(u,null)}}}]);
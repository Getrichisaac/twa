"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9973],{7522:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>u});var o=t(9901);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=o.createContext({}),s=function(e){var n=o.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=s(e.components);return o.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=s(t),u=r,k=m["".concat(p,".").concat(u)]||m[u]||d[u]||l;return t?o.createElement(k,a(a({ref:n},c),{},{components:t})):o.createElement(k,a({ref:n},c))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,a=new Array(l);a[0]=m;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,a[1]=i;for(var s=2;s<l;s++)a[s]=t[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8019:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var o=t(5402),r=(t(9901),t(7522));const l={},a="WebApp",i={unversionedId:"libraries/twa-sdk/components/web-app",id:"libraries/twa-sdk/components/web-app",title:"WebApp",description:"Provides common Web Apps functionality not covered by other system components.",source:"@site/docs/libraries/twa-sdk/components/web-app.md",sourceDirName:"libraries/twa-sdk/components",slug:"/libraries/twa-sdk/components/web-app",permalink:"/twa/docs/libraries/twa-sdk/components/web-app",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Viewport",permalink:"/twa/docs/libraries/twa-sdk/components/viewport"},next:{title:"twa-sdk-react",permalink:"/twa/docs/libraries/twa-sdk-react"}},p={},s=[{value:"Init",id:"init",level:2},{value:"Colors",id:"colors",level:2},{value:"<code>backgroundColor: RGBColor</code>",id:"backgroundcolor-rgbcolor",level:3},{value:"<code>headerColor: &#39;bg_color&#39; or &#39;secondary_bg_color&#39;</code>",id:"headercolor-bg_color-or-secondary_bg_color",level:3},{value:"<code>colorScheme: &#39;dark&#39; | &#39;light&#39;</code>",id:"colorscheme-dark--light",level:3},{value:"Closing confirmation",id:"closing-confirmation",level:2},{value:"Platform",id:"platform",level:2},{value:"Opening links",id:"opening-links",level:2},{value:"Other methods",id:"other-methods",level:2},{value:"Events",id:"events",level:2},{value:"Methods support",id:"methods-support",level:2}],c={toc:s};function d(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"webapp"},(0,r.kt)("inlineCode",{parentName:"h1"},"WebApp")),(0,r.kt)("p",null,"Provides common Web Apps functionality not covered by other system components."),(0,r.kt)("h2",{id:"init"},"Init"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"WebApp")," requires passing current Web App version and list of optional initial\nproperties:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebApp} from 'twa-sdk';\nimport {init} from 'twa-bridge';\n\nconst webApp = new WebApp('6.0');\n// or with custom bridge\nconst webApp = new WebApp('7.0', {bridge: init()});\n// or with some more properties you probably dont need in your code.\nconst webApp = new WebApp('7.0', {\n  bridge: init(),\n  headerColor: 'bg_color',\n  backgroundColor: '#ffffff',\n  isClosingConfirmationEnabled: false,\n  platform: 'webz',\n});\n")),(0,r.kt)("h2",{id:"colors"},"Colors"),(0,r.kt)("h3",{id:"backgroundcolor-rgbcolor"},(0,r.kt)("inlineCode",{parentName:"h3"},"backgroundColor: RGBColor")),(0,r.kt)("p",null,"Application background color."),(0,r.kt)("p",null,"Setter: ",(0,r.kt)("inlineCode",{parentName:"p"},"setBackgroundColor(color: RGBColor)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"webApp.setBackgroundColor('#ffaacc');\nconsole.log(webApp.backgroundColor); // #ffaacc\n")),(0,r.kt)("h3",{id:"headercolor-bg_color-or-secondary_bg_color"},(0,r.kt)("inlineCode",{parentName:"h3"},"headerColor: 'bg_color' or 'secondary_bg_color'")),(0,r.kt)("p",null,"Application header color."),(0,r.kt)("p",null,"Setter: ",(0,r.kt)("inlineCode",{parentName:"p"},"setHeaderColor(color: 'bg_color' or 'secondary_bg_color')")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"webApp.setHeaderColor('bg_color');\nconsole.log(webApp.headerColor); // bg_color\n")),(0,r.kt)("h3",{id:"colorscheme-dark--light"},(0,r.kt)("inlineCode",{parentName:"h3"},"colorScheme: 'dark' | 'light'")),(0,r.kt)("p",null,"To get current color scheme (",(0,r.kt)("inlineCode",{parentName:"p"},"dark")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"light"),"), you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"colorScheme"),"\nproperty:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"console.log(webApp.colorScheme); // dark\n")),(0,r.kt)("p",null,"This property is computed depending on current ",(0,r.kt)("inlineCode",{parentName:"p"},"backgroundColor"),"."),(0,r.kt)("h2",{id:"closing-confirmation"},"Closing confirmation"),(0,r.kt)("p",null,"To manipulate Web App closing confirmation,\nfunctions ",(0,r.kt)("inlineCode",{parentName:"p"},"disableClosingConfirmation"),"\nand ",(0,r.kt)("inlineCode",{parentName:"p"},"enableClosingConfirmation")," are used:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"webApp.enableClosingConfirmation();\nconsole.log(webApp.isClosingConfirmationEnabled); // true\n\nwebApp.disableClosingConfirmation();\nconsole.log(webApp.isClosingConfirmationEnabled); // false\n")),(0,r.kt)("h2",{id:"platform"},"Platform"),(0,r.kt)("p",null,"You could get current Web App platform (",(0,r.kt)("inlineCode",{parentName:"p"},"tdesktop"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"webz")," etc.) by getting\n",(0,r.kt)("inlineCode",{parentName:"p"},"platform")," property. In case, you want this property to detect current platform\na bit easier, properties ",(0,r.kt)("inlineCode",{parentName:"p"},"isDesktop")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"isWeb")," are used:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebApp} from './WebApp';\n\nconst webApp = new WebApp('7.0', {platform: 'webz'});\nconsole.log(webApp.platform); // webz\nconsole.log(webApp.isAndroid); // false\nconsole.log(webApp.isDesktop); // false\nconsole.log(webApp.isIOS); // false\nconsole.log(webApp.isWeb); // true\n")),(0,r.kt)("h2",{id:"opening-links"},"Opening links"),(0,r.kt)("p",null,"Here comes the list of methods, which allow opening links with help of Web App:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"openLink(url: string)")," - opens link in external browser. Web App will not be\nclosed;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"openTelegramLink(url: string)"),' - opens a Telegram link inside Telegram app.\nThe Web App will be closed. It expects passing link in full format, with\nhostname "t.me";'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"openInvoice(url: string)"),' - opens an invoice using its url. It expects\npassing link in full format, with hostname "t.me".')),(0,r.kt)("h2",{id:"other-methods"},"Other methods"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"close()")," - closes Web App;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"isVersionAtLeast(version: string)")," - checks if current ",(0,r.kt)("inlineCode",{parentName:"li"},"WebApp")," instance\nversion is higher than passed one;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ready()")," - should be called whenever Web App is ready to be displayed;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sendData(data: string)")," - sends data to Telegram bot.")),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("p",null,"Events available for ",(0,r.kt)("a",{parentName:"p",href:"../about#events"},"listening"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"backgroundColorChange: (color: RGBColor) => void")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"closingConfirmationChange: (isClosingConfirmationEnabled: boolean) => void")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"headerColorChange: (color: SettableColorKey) => void"))),(0,r.kt)("h2",{id:"methods-support"},"Methods support"),(0,r.kt)("p",null,"Methods available for ",(0,r.kt)("a",{parentName:"p",href:"../about#methods-support"},"support check"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"openInvoice")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setBackgroundColor")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setHeaderColor"))),(0,r.kt)("p",null,"You can also use ",(0,r.kt)("inlineCode",{parentName:"p"},"supports")," function with ",(0,r.kt)("inlineCode",{parentName:"p"},"WebApp")," instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const webApp = new WebApp('6.0');\n\nconsole.log(webApp.supports('setHeaderColor')); // false\n")))}d.isMDXComponent=!0}}]);
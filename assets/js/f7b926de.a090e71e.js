"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[280],{170:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(9901),o=n(4517);const i="tabItem_Nt9t";function s(e){let{children:t,hidden:n,className:s}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(i,s),hidden:n},t)}},896:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(5402),o=n(9901),i=n(4517),s=n(7214),l=n(7597),r=n(6301),p=n(4876);const c="tabList_ubQr",u="tabItem_xGh2";function d(e){var t;const{lazy:n,block:s,defaultValue:d,values:m,groupId:k,className:h}=e,b=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=m??b.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),g=(0,l.l)(f,((e,t)=>e.value===t.value));if(g.length>0)throw new Error(`Docusaurus error: Duplicate values "${g.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const w=null===d?d:d??(null==(t=b.find((e=>e.props.default)))?void 0:t.props.value)??b[0].props.value;if(null!==w&&!f.some((e=>e.value===w)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${w}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:y}=(0,r.U)(),[N,C]=(0,o.useState)(w),T=[],{blockElementScrollPositionUntilNextRender:B}=(0,p.o5)();if(null!=k){const e=v[k];null!=e&&e!==N&&f.some((t=>t.value===e))&&C(e)}const x=e=>{const t=e.currentTarget,n=T.indexOf(t),a=f[n].value;a!==N&&(B(t),C(a),null!=k&&y(k,String(a)))},I=e=>{var t;let n=null;switch(e.key){case"Enter":x(e);break;case"ArrowRight":{const t=T.indexOf(e.currentTarget)+1;n=T[t]??T[0];break}case"ArrowLeft":{const t=T.indexOf(e.currentTarget)-1;n=T[t]??T[T.length-1];break}}null==(t=n)||t.focus()};return o.createElement("div",{className:(0,i.Z)("tabs-container",c)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":s},h)},f.map((e=>{let{value:t,label:n,attributes:s}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>T.push(e),onKeyDown:I,onClick:x},s,{className:(0,i.Z)("tabs__item",u,null==s?void 0:s.className,{"tabs__item--active":N===t})}),n??t)}))),n?(0,o.cloneElement)(b.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},b.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function m(e){const t=(0,s.Z)();return o.createElement(d,(0,a.Z)({key:String(t)},e))}},6821:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>k,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var a=n(5402),o=(n(9901),n(7522)),i=n(896),s=n(170),l=n(6888);const r={sidebar_position:1,sidebar_label:"About"},p="twa-sdk",c={unversionedId:"libraries/twa-sdk/about",id:"libraries/twa-sdk/about",title:"twa-sdk",description:"Made from scratch TypeScript library for communication with Telegram Web Apps",source:"@site/docs/libraries/twa-sdk/about.mdx",sourceDirName:"libraries/twa-sdk",slug:"/libraries/twa-sdk/about",permalink:"/twa/docs/libraries/twa-sdk/about",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"About"},sidebar:"sidebar",previous:{title:"twa-sdk",permalink:"/twa/docs/category/twa-sdk"},next:{title:"Components",permalink:"/twa/docs/category/components"}},u={},d=[{value:"Installation",id:"installation",level:2},{value:"Init",id:"init",level:2},{value:"Components",id:"components",level:2},{value:"Events",id:"events",level:3},{value:"Methods support",id:"methods-support",level:3}],m={toc:d};function k(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"twa-sdk"},"twa-sdk"),(0,o.kt)("p",null,"Made from scratch TypeScript library for communication with Telegram Web Apps\nfunctionality."),(0,o.kt)("p",null,"Code of this library was written with aim to make developers communication with\nTelegram Web Apps way easier. It contains a lot of separate components which are\nresponsible for their own part of Telegram Web Apps ecosystem."),(0,o.kt)("p",null,"Before starting to use SDK, we highly recommend learning Web Apps\n",(0,o.kt)("a",{parentName:"p",href:"/docs/category/introduction"},"documentation")," to understand platform concepts."),(0,o.kt)("div",{style:{marginBottom:10}},(0,o.kt)("a",{href:"https://npmjs.com/package/twa-sdk"},(0,o.kt)("img",{alt:"npm",src:"https://img.shields.io/npm/v/twa-sdk?logo=npm"})),(0,o.kt)("img",{alt:"size",style:{marginLeft:10},src:"https://img.shields.io/bundlephobia/minzip/twa-sdk"})),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)(i.Z,{mdxType:"Tabs"},(0,o.kt)(s.Z,{value:"npm",label:"npm",default:!0,mdxType:"TabItem"},(0,o.kt)(l.Z,{language:"bash",mdxType:"CodeBlock"},"npm i twa-sdk")),(0,o.kt)(s.Z,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,o.kt)(l.Z,{language:"bash",mdxType:"CodeBlock"},"yarn add twa-sdk")),(0,o.kt)(s.Z,{value:"pnpm",label:"pnpm",mdxType:"TabItem"},(0,o.kt)(l.Z,{language:"bash",mdxType:"CodeBlock"},"pnpm i twa-sdk"))),(0,o.kt)("h2",{id:"init"},"Init"),(0,o.kt)("p",null,"According to logic, this package provides full control over its lifecycle,\nits initialization is on developer's shoulders. It means, that there are no\nalready initialized global components which could be used by developer, they\nshould be created by him."),(0,o.kt)("p",null,"To make developers life easier, package contains special function called ",(0,o.kt)("inlineCode",{parentName:"p"},"init"),",\nwhich returns initialized components instances:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {init} from 'twa-sdk';\n\ninit().then(components => {\n  // Now we have all initialized components.\n  const {mainButton, viewport} = components;\n\n  // Add main button event click which will lead to\n  // application expansion.\n  mainButton.on('click', () => viewport.expand());\n\n  // Update main button information and show it.\n  mainButton\n    .setColor('#ff0000')\n    .setTextColor('#ffffff')\n    .setText('Expand')\n    .enable()\n    .show()\n    .commit();\n});\n")),(0,o.kt)("p",null,"To enable debug mode, use ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," value as argument:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"// Init with debug mode.\ninit(true);\n")),(0,o.kt)("p",null,"In case, you want to initialize components with your own props, you should\npass object to ",(0,o.kt)("inlineCode",{parentName:"p"},"init")," function:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"init({\n  props: {\n    bridge: {debug: true},\n    backButton: {isVisible: true},\n    // ...\n    webApp: {platform: 'tdesktop', backgroundColor: '#FF0233', ...}\n  }\n});\n")),(0,o.kt)("h2",{id:"components"},"Components"),(0,o.kt)("p",null,"All components in this package are supposed to be\nused as singletons. It means, you should not create several instances of\nsame component and use them even if it is not forbidden. But in this case,\nthere is no warranty, everything will work fine."),(0,o.kt)("p",null,"The reason is, each component class stores its state locally and class instances\nare not synchronized between each other. So, for example, in case, you create\n2 instances of ",(0,o.kt)("inlineCode",{parentName:"p"},"Popup")," component and one of them calls ",(0,o.kt)("inlineCode",{parentName:"p"},"show()")," function, it\nwill change its ",(0,o.kt)("inlineCode",{parentName:"p"},"isOpened")," property to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", but the second instance\nof ",(0,o.kt)("inlineCode",{parentName:"p"},"Popup")," will not know about it and will still return ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," value."),(0,o.kt)("p",null,"To avoid possible problems, you can rely on package's ",(0,o.kt)("inlineCode",{parentName:"p"},"init")," function which\nprovides initialized components which are enough to use across application."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Some components which require usage of ",(0,o.kt)("inlineCode",{parentName:"p"},"Bridge")," functionality can\naccept its custom instance in constructor. In case, ",(0,o.kt)("inlineCode",{parentName:"p"},"Bridge")," is not passed,\ncomponent will create it via ",(0,o.kt)("inlineCode",{parentName:"p"},"init()")," method from ",(0,o.kt)("inlineCode",{parentName:"p"},"twa-bridge")," package. We\nrecommend passing your own single instance of ",(0,o.kt)("inlineCode",{parentName:"p"},"Bridge")," to avoid unexpected\nbehaviour or errors.")),(0,o.kt)("h3",{id:"events"},"Events"),(0,o.kt)("p",null,"Component instances use common way of events listening through ",(0,o.kt)("inlineCode",{parentName:"p"},"on")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"off"),"\nfunctions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const listener = (...args) => {\n  console.log(...args);\n};\ncomponent.on(event, listener); // add listener.\ncomponent.off(event, listener); // remove listener.\n")),(0,o.kt)("p",null,"Example with ",(0,o.kt)("inlineCode",{parentName:"p"},"BackButton")," component:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {BackButton} from 'twa-sdk';\n\nconst backButton = new BackButton();\nbackButton.on('click', () => {\n  console.log('Back button clicked.');\n});\n")),(0,o.kt)("p",null,"You can find list of supported events in components own documentations."),(0,o.kt)("h3",{id:"methods-support"},"Methods support"),(0,o.kt)("p",null,"Almost each component is capable of checking whether its method is supported by\npassed Web App version or not. To check if some methods are supported, you\nshould use ",(0,o.kt)("inlineCode",{parentName:"p"},"{Component}.supports()")," function. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {BackButton} from 'twa-sdk';\n\nconsole.log(BackButton.supports('show', '6.0')); // false\nconsole.log(BackButton.supports('hide', '6.3')); // true\n")),(0,o.kt)("p",null,"It is recommended to use this functionality before calling some component method\nas long as this will make you sure, it will work. Component itself is not\nchecking if method is supported by current Web App version, what could lead to\nissues."),(0,o.kt)("p",null,"List of supported methods by components is described in each component's\ndocumentation."))}k.isMDXComponent=!0}}]);